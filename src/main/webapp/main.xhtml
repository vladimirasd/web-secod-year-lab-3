<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ace="http://www.icesoft.org/icefaces/components">
<h:head>

    <title>Стартовая страница</title>
    <meta charset="UTF-8"/>
    <h:outputStylesheet name="css/style.css"/>

</h:head>
<h:body>
    <div  id = "main" class="main">

        <header>
            <p>Деревянко Владимир</p>
            <p>Лабораторная 2</p>
            <p>Вариант 45682</p>
        </header>

        <div id="main-error-handler" style="display: none">
            <label id="globalError" >Пожалуйста, выберите значение R</label>
        </div>


        <!-- Рисунок  -->
        <div id="canvas-handler">
            <canvas id="area" width="800" height="800"></canvas>
        </div>


        <!-- Форма для ввода  -->
        <h:form id="data-form" onkeydown="return event.key !== 'Enter';">

            <!-- X  -->
            <fieldset>
                <legend >
                    <h:outputText id="legendX" value="#{pointBean.displayX}" />
                </legend>
                <div class="button-row">
                    <h:commandButton styleClass="y-button" value="-5" action="#{pointBean.setX(-5)}">
                        <f:ajax execute="@this" render="legendX" />
                    </h:commandButton>
                    <h:commandButton styleClass="y-button" value="-4" action="#{pointBean.setX(-4)}" >
                        <f:ajax execute="@this" render="legendX" />
                    </h:commandButton>
                    <h:commandButton styleClass="y-button" value="-3" action="#{pointBean.setX(-3)}" >
                        <f:ajax execute="@this" render="legendX" />
                    </h:commandButton>
                    <h:commandButton styleClass="y-button" value="-2" action="#{pointBean.setX(-2)}" >
                        <f:ajax execute="@this" render="legendX" />
                    </h:commandButton>
                    <h:commandButton styleClass="y-button" value="-1" action="#{pointBean.setX(-1)}" >
                        <f:ajax execute="@this" render="legendX" />
                    </h:commandButton>
                    <h:commandButton styleClass="y-button" value="0" action="#{pointBean.setX(0)}" >
                        <f:ajax execute="@this" render="legendX" />
                    </h:commandButton>
                    <h:commandButton styleClass="y-button" value="1" action="#{pointBean.setX(1)}" >
                        <f:ajax execute="@this" render="legendX" />
                    </h:commandButton>
                    <h:commandButton styleClass="y-button" value="2" action="#{pointBean.setX(2)}" >
                        <f:ajax execute="@this" render="legendX" />
                    </h:commandButton>
                    <h:commandButton styleClass="y-button" value="3" action="#{pointBean.setX(3)}">
                        <f:ajax execute="@this" render="legendX" />
                    </h:commandButton>
                </div>
            </fieldset>

            <!-- Y  -->
            <fieldset id="y-fieldSet">
                <legend>
                    <h:outputText id="legendY" value="#{pointBean.displayY}" />
                </legend>
                <h:inputText id="yInput"
                             styleClass="y-input #{component.valid ? '' : 'error-field'}"
                             placeholder="Введите число от -3 до 5"
                             value="#{pointBean.y}">
                    <f:ajax event="valueChange" execute="@this" render="yMessage legendY" />
                </h:inputText>
                <h:message id="yMessage" for="yInput" styleClass="error"/>
            </fieldset>
            <!-- R  -->

            <fieldset>
                <legend>
                    <h:outputText id="legendR" value="#{pointBean.displayR}" />
                </legend>

                <ace:sliderEntry value="#{pointBean.r}" min="10"  max="60">
                </ace:sliderEntry>
            </fieldset>


            <!-- Путка -->
            <h:commandButton  styleClass="main-submit" value="Проверить" action="#{pointBean.submit}">
                <f:ajax execute="data-form" render="resultsTable" />
            </h:commandButton>

        </h:form>

        <!-- Табличка для резов -->
        <div id="resultsContainer">
        <h3>Results</h3>
            <h:dataTable value="#{pointsService.points}" var="point"
                         styleClass="result-table"
                         id="resultTable">

                <h:column>
                    <f:facet name="header">X</f:facet>
                    #{point.x}
                </h:column>

                <h:column>
                    <f:facet name="header">Y</f:facet>
                    #{point.y}
                </h:column>

                <h:column>
                    <f:facet name="header">R</f:facet>
                    #{point.r}
                </h:column>

                <h:column>
                    <f:facet name="header">isHit</f:facet>
                    #{point.isHit}
                </h:column>

                <h:column>
                    <f:facet name="header">execTime</f:facet>
                    #{point.execTime}
                </h:column>

            </h:dataTable>
        </div>

    </div>

    <h:outputScript library="js" name="script.js" />

</h:body>




</html>